<div class="card">
    <p-table 
        [value]="users?.users" 
        selectionMode="single" 
        [(selection)]="selectedUser" 
        dataKey="userName"
        (onRowSelect)="userListDialog.userDialogDetail($event)" 
        [paginator]="true"
        [rows]="5"
        [rowsPerPageOptions]="[5, 10, 20]"
        [totalRecords]="users?.totalUsersCount"
        [lazy]="true"
        (onLazyLoad)="lazyLoadPagination($event)"
        currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" 
        styleClass="sm:text-sm md:text-base lg:text-lg "
        [showCurrentPageReport]="true"
        [tableStyle]="{'min-width': '50rem'}">
            <ng-template pTemplate="header">
                <tr>
                    <th>Username</th>
                    <th>Name Surname</th>
                    <th>Email</th>
                    <th>Two Factor Enabled</th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-user>
                <tr [pSelectableRow]="user">
                    <td>{{user.userName}}</td>
                    <td>{{user.nameSurname}}</td>
                    <td>{{user.email}}</td>
                    <td>
                        <i [class]="user.twoFactorEnabled ? 'pi pi-check-circle text text-green-500' : 'pi pi-times-circle text-red-500'" style="font-size: 1rem"></i>
                    </td>
                </tr>
            </ng-template>
    </p-table>
</div>

<app-list-dialog #userListDialog></app-list-dialog>